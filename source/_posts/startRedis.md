---
title: redis初入与简单的安装配置相关
date: 2017-07-16 17:40:50
tags: redis
---
### 前段时间搭建好了自己的linux环境，现在就可以着手进行redis的学习啦
redis作为现在非常火的一个非关系型数据库，了解掌握redis是非常有必要的。相比于oracle、mysql等关系型数据库，redis对
大数据的处理是非常棒的。因此，随着现在大数据的发展，redis的应用也越来越广泛，且极为重要。在这里，我们首先
了解一下redis在linux下的安装与相关配置吧。

<!-- more -->

### 1. redis的安装
#### 1.1 首先我们可以下载redis的安装包，然后解压到指定的目录
``` shell
tar -zxvf redis.tar.gz
```
解压完成后，我们会获得一个redis的解压文件，但仅仅是一个安装程序。
#### 1.2 编译
进入解压的文件夹，执行`make`命令就可以对其进行编译了。
#### 1.3 安装
编译完成后，执行`make PREFIX=/usr/local/redis install`即可进行安装了。`PREFIX`必须大写，其作用是指定安装的目录，目录可以根据需要更改。

安装完成后，在安装的目录下可以看到一个`bin`目录。
### 2.配置
#### 2.1 复制redis.conf
首先我们需要将解压目录下的reis.conf文件复制到安装目录下，然后再通过编辑该文件来进行redis的配置
``` shell
cp redis.conf /usr/local/redis
```
如果没有复制该文件到安装目录下，redis也可以正常启动，不过是以默认的配置启动，这样就不方便我们修改端口等信息了。

### 3.redis启动
#### 3.1 前端启动
进入redis安装目录，执行`./bin/redis.server`即可前端启动redis了。

启动完成后，我们就可以看到一些相关的信息了，如redis版本号，端口号以及`PID`。
#### 3.2 运行客户端
前端启动完成后，我们就可以运行客户端了。在`bin`目录下执行`./bin/redis.cli`即可。

如果我们要连接的redis不在本机或者端口号不是默认的6379端口，我们可以通过下列命令进行链接
``` shell
./bin/redis.cli -h 192.168.2.74 -p 6380
```
#### 3.3 前端启动的缺点
前端启动不能够进行集群部署，因此实际使用的意义不大。
#### 3.4 后端启动
后端启动需要修改配置文件。
``` shell
vim /usr/local/redis/redis.conf
```
将`daemonize no`修改为`daemonize yes`。

启动时，需要指定配置文件，即需要执行的命令是`./bin/redis.server ./redis.conf`。
启动后，我们可以通过`ps -ef | grep -i redis`命令来查看是否启动成功。
启动成功后，我们就可以通过和前端启动相同的命令进行连接了。同时，我们可以通过再次修改配置文件
的端口号，来启动多个后端服务。
### 4.redis的关闭
#### 4.1 通过PID关闭
根据PID，执行`kill -9 pid`进行杀死进程。但这种方式会造成跟断电类似的效果，属于非正常关闭，会导致数据丢失。
#### 4.2 正常关闭
执行`./bin/redis.cli shutdown`

好了，关于redis的一些简单安装配置以及启动等就介绍到这里。